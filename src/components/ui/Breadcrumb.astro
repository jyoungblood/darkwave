---
interface BreadcrumbItem {
  href: string;
  label: string;
  className?: string;
}

interface Props {
  items: BreadcrumbItem[];
  className?: string;
}

const { items, className = "mb-6 text-sm" } = Astro.props;
---

{items.length > 0 && (
  <nav class={`${className}`} aria-label="Breadcrumb">
    <div class="flex items-center gap-2">
      {items.map((item, index) => {
        const isLast = index === items.length - 1;
        const isEmptyHref = !item.href || item.href === "";
        const shouldRenderAsLink = !isLast && !isEmptyHref;
        
        return (
          <>
            {shouldRenderAsLink ? (
              <>
                <a
                  href={item.href}
                  class="text-muted-foreground/90 hover:underline"
                >
                  {item.label}
                </a>
                <span class="text-muted-foreground/90">></span>
              </>
            ) : (
              <>
                <span class="text-primary/90">
                  {item.label}
                </span>
                {!isLast && <span class="text-muted-foreground/90">></span>}
              </>
            )}
          </>
        );
      })}
    </div>
  </nav>
)}

